var slim=function(e){"use strict";function t(){}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){if("object"!==(void 0===e?"undefined":n(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},a=function(e){return"string"==typeof e},f=window.console.warn,c=function(e){throw new Error(e)},s=function(e,t){e&&c(t)},l=function(e,t){e&&f(t)},d=function(){function e(){r(this,e),this.eventMap=[]}return o(e,[{key:"on",value:function(e,t){this.eventMap[e]||(this.eventMap[e]=[]),this.eventMap[e].push(t)}},{key:"off",value:function(e,t){var n=this.eventMap[e];if(Array.isArray(n)){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},{key:"emit",value:function(e){var t=this.eventMap[e];l(!t,"there are no handler for event ["+e+"]");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.apply(void 0,r)}}]),e}(),y=null,p="Function",v=function(e){var t=e.reducers,r=void 0===t?{}:t,o=e.state,i=void 0===o?{}:o,f=e.plugin,c=e.aliases,p=void 0===c?{}:c,v=e.mode,E=void 0===v?"strict":v;if(!u(i))throw new TypeError(A.typeError(void 0===i?"undefined":n(i)));var P=new d,S=P.on,j=P.off,k=P.emit,M=h(i,E),R=g(r),x=m(f);p=b(p);var N=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];s(!a(e),A.shouldBe("Actions","string",void 0===e?"undefined":n(e))),s(y,"Reducers may not dispatch actions.");try{if(y=e,l(!r[e],"You may not has not registered ["+e+"] in store"),O("before",x,M,e),R[e]){var u=R[e].apply(R,[M].concat(o));u&&u!==M&&(M=h(u,E))}O("after",x,M,e)}finally{y=null}return C},_=function(e){return s(y,A.cantCall("store.getState()")),l(e&&!p.hasOwnProperty(e),"Alias of key ["+e+"] is not exist. Please register it with when createStore."),e?p[e]?p[e](M):void 0:M},B=function(e){w(e),s(y,A.cantCall("removeMiddleware()")),x?x.push(e):x=[e]},C=new Proxy({on:S,off:j,emit:k,dispatch:N,getState:_,applyPlugin:B,state:M},{get:function(e,t){return"state"===t?M:Reflect.get(e,t)},set:function(){s(!y,A.cantAssign())}});return C},h=function(e,t){var n=function(e){return u(e)?r(e):Array.isArray(e)?r(e,!0):e},r=function(e,t){var r={set:function(e,t,r){return s(!y,A.cantAssign()),Reflect.set(e,t,n(E(r)))},get:function(e,t){return Reflect.get(e,t)}},o=i({},r,{set:function(e,t,r){if("__proto__"===t)return Reflect.set(e,t,r);if(y)return Reflect.set(e,t,n(E(r)));throw new Error(A.cantAssign())}});for(var u in e)e[u]=n(e[u]);return new Proxy(e,t?o:r)};switch(t){case"strict":return r(e);case"loose":return e}},g=function(e){return Object.keys(e).forEach(function(t){var r=e[t];s("function"!=typeof r,"Reducer for key ["+t+"] must be type of [fnT] but got ["+(void 0===r?"undefined":n(r))+"]")}),e},b=function(e){return Object.keys(e).forEach(function(t){var r=e[t];s("function"!=typeof r,A.shouldBe("Alias."+t,p,void 0===r?"undefined":n(r)))}),e},m=function(e){if(e){var t=Array.isArray(e)?e:[e];return t.forEach(function(e){w(e)}),t}},w=function(e){var t=e.before,r=e.after;t&&s("function"!=typeof t,A.shouldBe("Plugin.after",p,void 0===t?"undefined":n(t))),r&&s("function"!=typeof r,A.shouldBe("Plugin.after",p,void 0===r?"undefined":n(r)))},O=function(e,t,n,r){t&&t.forEach(function(t){t[e]&&t[e](n,r)})},A={typeError:function(e){return"type of state expect to [Object] but got ["+e+"]"},shouldBe:function(e,t,n){return e+" should be type of ["+t+"] but got ["+n+"]"},cantCall:function(e){return"You may not call "+e+" while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store."},cantAssign:function(){return"You may not be able to assign values ​​directly to state. Please return a new state for reducing or edit with state in reducer."}},E=function(e){return JSON.parse(JSON.stringify(e))};return l("production"!==process.env.NODE_ENV&&"string"==typeof t.name&&"isCrushed"!==t.name,'You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Slim. '),e.createStore=v,e}({});
