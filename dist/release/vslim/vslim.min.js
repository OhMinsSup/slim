var vslim=function(){"use strict";function t(){}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){if("object"!==(void 0===t?"undefined":e(t))||null===t)return!1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n},a=function(t){return"string"==typeof t},u=window.console.warn,f=function(t){throw new Error(t)},s=function(t,e){t&&f(e)},c=function(t,e){t&&u(e)},l=function(){function t(){n(this,t),this.eventMap=[]}return r(t,[{key:"on",value:function(t,e){this.eventMap[t]||(this.eventMap[t]=[]),this.eventMap[t].push(e)}},{key:"off",value:function(t,e){var n=this.eventMap[t];if(Array.isArray(n)){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},{key:"emit",value:function(t){var e=this.eventMap[t];c(!e,"there are no handler for event ["+t+"]");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&e.apply(void 0,r)}}]),t}(),d=null,y="Function",p=function(t){var n=t.reducers,r=void 0===n?{}:n,o=t.state,u=void 0===o?{}:o,f=t.plugin,y=t.aliases,p=void 0===y?{}:y,A=t.mode,P=void 0===A?"strict":A;if(!i(u))throw new TypeError(O.typeError(void 0===u?"undefined":e(u)));var E=new l,S=E.on,j=E.off,k=E.emit,_=v(u,P),x=h(r),M=b(f);p=g(p);var N=function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];s(!a(t),O.shouldBe("Actions","string",void 0===t?"undefined":e(t))),s(d,"Reducers may not dispatch actions.");try{if(d=t,c(!r[t],"You may not has not registered ["+t+"] in store"),w("before",M,_,t),x[t]){var u=x[t].apply(x,[_].concat(o));u&&u!==_&&(_=v(u,P))}w("after",M,_,t)}finally{d=null}return C},R=function(t){return s(d,O.cantCall("store.getState()")),c(t&&!p.hasOwnProperty(t),"Alias of key ["+t+"] is not exist. Please register it with when createStore."),t?p[t]?p[t](_):void 0:_},B=function(t){m(t),s(d,O.cantCall("removeMiddleware()")),M?M.push(t):M=[t]},C=new Proxy({on:S,off:j,emit:k,dispatch:N,getState:R,applyPlugin:B,state:_},{get:function(t,e){return"state"===e?_:Reflect.get(t,e)},set:function(){s(!d,O.cantAssign())}});return C},v=function(t,e){var n=function(t){return i(t)?r(t):Array.isArray(t)?r(t,!0):t},r=function(t,e){var r={set:function(t,e,r){return s(!d,O.cantAssign()),Reflect.set(t,e,n(A(r)))},get:function(t,e){return Reflect.get(t,e)}},i=o({},r,{set:function(t,e,r){if("__proto__"===e)return Reflect.set(t,e,r);if(d)return Reflect.set(t,e,n(A(r)));throw new Error(O.cantAssign())}});for(var a in t)t[a]=n(t[a]);return new Proxy(t,e?i:r)};switch(e){case"strict":return r(t);case"loose":return t}},h=function(t){return Object.keys(t).forEach(function(n){var r=t[n];s("function"!=typeof r,"Reducer for key ["+n+"] must be type of [fnT] but got ["+(void 0===r?"undefined":e(r))+"]")}),t},g=function(t){return Object.keys(t).forEach(function(n){var r=t[n];s("function"!=typeof r,O.shouldBe("Alias."+n,y,void 0===r?"undefined":e(r)))}),t},b=function(t){if(t){var e=Array.isArray(t)?t:[t];return e.forEach(function(t){m(t)}),e}},m=function(t){var n=t.before,r=t.after;n&&s("function"!=typeof n,O.shouldBe("Plugin.after",y,void 0===n?"undefined":e(n))),r&&s("function"!=typeof r,O.shouldBe("Plugin.after",y,void 0===r?"undefined":e(r)))},w=function(t,e,n,r){e&&e.forEach(function(e){e[t]&&e[t](n,r)})},O={typeError:function(t){return"type of state expect to [Object] but got ["+t+"]"},shouldBe:function(t,e,n){return t+" should be type of ["+e+"] but got ["+n+"]"},cantCall:function(t){return"You may not call "+t+" while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store."},cantAssign:function(){return"You may not be able to assign values ​​directly to state. Please return a new state for reducing or edit with state in reducer."}},A=function(t){return JSON.parse(JSON.stringify(t))};return c("production"!==process.env.NODE_ENV&&"string"==typeof t.name&&"isCrushed"!==t.name,'You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Slim. '),{createStore:p,install:function(t){function e(){var t=this,e=this.$options;e.store?(this.store="function"==typeof e.store?o({},e.store(),{state:e.store.getState()}):o({},e.store,{state:e.store.getState()}),this.store.applyPlugin({after:function(e){t.$children[0].$forceUpdate()}})):e.parent&&e.parent.store&&(this.store=e.parent.store)}if(Number(t.version.split(".")[0])>=2)t.mixin({created:e,data:function(){return{store:null}}});else{var n=t.prototype._init;t.prototype._init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.init=t.init?[e].concat(t.init):e,n.call(this,t)}}}}}();
