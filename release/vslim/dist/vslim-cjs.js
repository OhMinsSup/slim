"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var Slim=_interopDefault(require("slim-store")),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},_rootComponent=void 0,slimPlugin={after:function(t){_rootComponent&&(_rootComponent.$set(_rootComponent.store,"state",t),_rootComponent.$children[0].$forceUpdate())}},devPlugin={init:function(t){t.on("__SLIM_DEVTOOL_ANSWER__",function(e){t.dispatch("__SLIM_DEVTOOL_SET__",e)})}},vuePlugin={createStore:Slim.createStore,install:function(t){function e(){var t=this.$options;t.store?(this.store="function"==typeof t.store?_extends({},t.store(),{state:t.store.getState()}):_extends({},t.store,{state:t.store.getState()}),_rootComponent=this):t.parent&&t.parent.store&&(this.store=t.parent.store)}if(Number(t.version.split(".")[0])>=2)t.mixin({created:e,data:function(){return{store:null}}});else{var o=t.prototype._init;t.prototype._init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.init=t.init?[e].concat(t.init):e,o.call(this,t)}}}};Slim.use(devPlugin),Slim.use(slimPlugin),module.exports=vuePlugin;
